# microservice-examples

## 疑问
### 2019-01-23
1. 客户端之间必须要清楚的知道`实例名`。实例名如何管理？
2. 不清楚某个服务提供了哪些接口，且接口的返回值未知。（难道还是文档规范？）
3. 接口如何管理？服务A中难道需要统一封装接口类？

## spring-boot-actuator
用于监控和管理。

## spring-boot-eureka
服务治理，可以说是微服务架构中最为核心和基础的模块，它主要用来实现各个微服务实例的自动化注册与发现。
随着业务的发展，微服务应用不断增加，如果还是基于静态配置来完成服务之间的调用，那么静态配置只会变得越来越难以维护。

服务治理是微服务架构中最为核心和基础的模块，它主要用来实现各个微服务实例的自动化注册与发现。

服务注册：
在服务治理框架中，通常都会构建一个注册中心，每个服务单元向注册中心登记自己提供的服务，将主机与端口号、版本号、通信协议等一些附加信息告知注册中心，注册中心按服务名分类组织服务清单。
服务注册中心还需要以心跳的方式去监测清单中的服务是否可用，若不可用需要从服务清单中剔除，达到排除故障服务的效果。

服务发现：
由于在服务治理框架下运作，服务间的调用不再通过指定具体的实例地址来实现，而是通过向服务名发起请求调用实现。
实际的框架为了性能，不会采用每次都向服务注册中心获取服务的方式，并且不同的应用场景在缓存和服务剔除等机制上也会有一些不同的实现策略。

Eureka服务端:
又称为服务注册中心，支持高可用配置。Netflix推荐每个可用的区域运行一个Eureka服务端，通过它来形成集群。
Eureka以集群部署时，当集群中有分片出现故障时，那么Eureka就转入自我保护模式，它允许在分片故障期间继续提供服务的发现和注册。
当故障分片恢复运行时，集群中的其他分片会把他们的状态再次同步回来。
不同可用区域的服务注册中心通过**异步模式**互相复制各自的状态，这意味着在任意给定的时间点每个实例关于所有服务的状态是有细微差别的。

Eureka客户端:
主要处理服务的注册与发现。客户端服务通过注解和参数配置的方式，嵌入在客户端应用程序的代码中。
在应用程序运行时，Eureka客户端向注册中心注册自身提供的服务，并周期性地发送心跳来更新它的服务租约。
同时，它也能从服务端查询当前注册的服务信息并把它们缓存到本地并周期性地刷新服务状态。

## spring-boot-ribbon
负载均衡。
Ribbon在Eureka服务发现的基础上，实现了一套对服务实例的选择策略，从而实现对服务的消费。

